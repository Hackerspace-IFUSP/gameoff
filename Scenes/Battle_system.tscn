[gd_scene load_steps=10 format=2]

[ext_resource path="res://Scripts/Battle_system.gd" type="Script" id=1]
[ext_resource path="res://Sprites/Arrow-Sheet.png" type="Texture" id=2]
[ext_resource path="res://Musics/NeneBeat.wav" type="AudioStream" id=3]
[ext_resource path="res://Musics/Nene_and_pika_beat2.wav" type="AudioStream" id=4]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 8, 16 )

[sub_resource type="Animation" id=2]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Key:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Key2:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Key3:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("Key4:scale")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ) ]
}

[sub_resource type="Animation" id=3]
resource_name = "beat"
length = 0.6
loop = true
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath("Key:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.4, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.1, 1.1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Key2:scale")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.4, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.1, 1.1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Key3:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.4, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.1, 1.1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Key4:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.4, 0.6 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1, 1 ), Vector2( 1.1, 1.1 ) ]
}

[sub_resource type="Animation" id=4]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Music:stream")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ ExtResource( 3 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Music:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("music:reset_on_save")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ false ]
}

[sub_resource type="Animation" id=5]
resource_name = "event"
length = 80.0
tracks/0/type = "value"
tracks/0/path = NodePath("Music:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 74.1 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ false, true, false ]
}
tracks/1/type = "method"
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 2, 2.2, 4, 4.2, 6, 6.2, 8, 8.2, 10, 10.2, 12, 12.2, 14, 14.2, 16, 16.2, 18, 18.2, 20, 20.2, 22, 22.2, 24, 24.2, 26, 26.2, 28, 28.2, 30, 30.2, 32, 32.2, 34, 34.2, 36, 36.2, 38, 38.2, 40, 40.2, 42, 42.2, 44, 44.2, 46, 46.2, 48, 48.2, 50, 50.2, 52, 52.2, 54, 54.2, 56, 56.2, 58, 58.2, 60, 60.2, 62, 62.2, 64, 64.2, 66, 66.2, 68, 68.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
}, {
"args": [  ],
"method": "note_1"
} ]
}
tracks/2/type = "method"
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 1, 1.2, 3, 3.2, 5, 5.2, 7, 7.2, 9, 9.2, 11, 11.2, 13, 13.2, 15, 15.2, 17, 17.2, 19, 19.2, 21, 21.2, 23, 23.2, 25, 25.2, 27, 27.2, 29, 29.2, 31, 31.2, 33, 33.2, 35, 35.2, 37, 37.2, 39, 39.2, 41, 41.2, 43, 43.2, 45, 45.2, 47, 47.2, 49, 49.2, 51, 51.2, 53, 53.2, 55, 55.2, 57, 57.2, 59, 59.2, 61, 61.2, 63, 63.2, 65, 65.2, 67, 67.2, 69, 69.2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
}, {
"args": [  ],
"method": "note_2"
} ]
}
tracks/3/type = "method"
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 1.4, 5.5, 9.4, 13.5, 17.4, 21.5, 25.4, 29.5, 33.4, 37.5, 41.4, 45.5, 49.4, 53.5, 57.4, 61.5, 65.4, 69.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
}, {
"args": [  ],
"method": "note_3"
} ]
}
tracks/4/type = "method"
tracks/4/path = NodePath(".")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 3.4, 7.4, 11.4, 15.4, 19.4, 23.4, 27.4, 31.4, 35.4, 39.4, 43.4, 47.4, 51.4, 55.4, 59.4, 63.4, 67.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
}, {
"args": [  ],
"method": "note_4"
} ]
}

[node name="Battle_system" type="Node2D"]
position = Vector2( 0, 64 )
script = ExtResource( 1 )

[node name="Key" type="Area2D" parent="." groups=["key"]]
position = Vector2( 32, 0 )

[node name="shape" type="CollisionShape2D" parent="Key"]
shape = SubResource( 1 )
disabled = true

[node name="NoteSketch" type="Sprite" parent="Key"]
rotation = -1.5708
texture = ExtResource( 2 )
hframes = 2

[node name="Key2" type="Area2D" parent="." groups=["key"]]
position = Vector2( 96, 0 )

[node name="shape" type="CollisionShape2D" parent="Key2"]
shape = SubResource( 1 )
disabled = true

[node name="NoteSketch" type="Sprite" parent="Key2"]
rotation = 3.14159
texture = ExtResource( 2 )
hframes = 2

[node name="Key3" type="Area2D" parent="." groups=["key"]]
position = Vector2( 160, 0 )

[node name="shape" type="CollisionShape2D" parent="Key3"]
shape = SubResource( 1 )
disabled = true

[node name="NoteSketch" type="Sprite" parent="Key3"]
rotation = -3.01992e-07
texture = ExtResource( 2 )
hframes = 2

[node name="Key4" type="Area2D" parent="." groups=["key"]]
position = Vector2( 224, 0 )

[node name="shape" type="CollisionShape2D" parent="Key4"]
shape = SubResource( 1 )
disabled = true

[node name="NoteSketch" type="Sprite" parent="Key4"]
rotation = 1.5708
texture = ExtResource( 2 )
hframes = 2

[node name="beat" type="AnimationPlayer" parent="."]
playback_speed = 1.2
anims/RESET = SubResource( 2 )
anims/beat = SubResource( 3 )

[node name="music" type="AnimationPlayer" parent="."]
reset_on_save = false
anims/RESET = SubResource( 4 )
anims/event = SubResource( 5 )

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 4 )

[node name="active_keys_timer" type="Node" parent="."]

[node name="timer_l" type="Timer" parent="active_keys_timer"]
wait_time = 0.05
one_shot = true

[node name="timer_d" type="Timer" parent="active_keys_timer"]
wait_time = 0.05
one_shot = true

[node name="timer_u" type="Timer" parent="active_keys_timer"]
wait_time = 0.05
one_shot = true

[node name="timer_r" type="Timer" parent="active_keys_timer"]
wait_time = 0.05
one_shot = true

[connection signal="area_shape_entered" from="Key" to="." method="_on_Key_area_shape_entered"]
[connection signal="area_shape_entered" from="Key2" to="." method="_on_Key_area_shape_entered"]
[connection signal="area_shape_entered" from="Key3" to="." method="_on_Key_area_shape_entered"]
[connection signal="area_shape_entered" from="Key4" to="." method="_on_Key_area_shape_entered"]
[connection signal="timeout" from="active_keys_timer/timer_l" to="." method="_on_timer_l_timeout"]
[connection signal="timeout" from="active_keys_timer/timer_d" to="." method="_on_timer_d_timeout"]
[connection signal="timeout" from="active_keys_timer/timer_u" to="." method="_on_timer_u_timeout"]
[connection signal="timeout" from="active_keys_timer/timer_r" to="." method="_on_timer_r_timeout"]
